
# Подробное объяснение кода для визуализации данных

```python
# Настройка стиля
plt.style.use('seaborn-whitegrid')
sns.set(font_scale=1.2)
```

#### 1. Настройка стиля
- **`plt.style.use('seaborn-whitegrid')`**:
  - Устанавливает стиль графиков на `seaborn-whitegrid`, который добавляет белую сетку на графики, улучшая читаемость.
  - `matplotlib` поддерживает различные стили, и `seaborn` предлагает более эстетически приятные варианты.

- **`sns.set(font_scale=1.2)`**:
  - Устанавливает масштаб шрифта для всех текстовых элементов на графиках, увеличивая его на 20%.
  - Это полезно для улучшения читаемости, особенно при создании графиков для презентаций.

---

```python
# Гистограммы числовых признаков
fig, axes = plt.subplots(3, 3, figsize=(15, 12))
axes = axes.flatten()
```

#### 2. Создание подграфиков
- **`fig, axes = plt.subplots(3, 3, figsize=(15, 12))`**:
  - Создает сетку подграфиков размером 3 на 3 (всего 9 графиков) в одном окне.
  - `figsize=(15, 12)` задает размер всего окна графика в дюймах (ширина, высота).

- **`axes = axes.flatten()`**:
  - Преобразует двумерный массив `axes` в одномерный, чтобы упростить доступ к каждому подграфику по индексу.

---

```python
numeric_cols = df.select_dtypes(include=['float64', 'int64']).columns
```

#### 3. Выбор числовых колонок
- **`df.select_dtypes(include=['float64', 'int64'])`**:
  - Выбирает все колонки из DataFrame `df`, которые имеют тип данных `float64` (числа с плавающей точкой) и `int64` (целые числа).
  
- **`.columns`**:
  - Получает список названий выбранных колонок.

---

```python
for i, col in enumerate(numeric_cols[:9]):
    sns.histplot(df[col], kde=True, ax=axes[i])
    axes[i].set_title(f'Distribution of {col}')
```

#### 4. Построение гистограмм
- **`for i, col in enumerate(numeric_cols[:9])`**:
  - Перебирает первые 9 числовых колонок, используя `enumerate()` для получения индекса `i` и названия колонки `col`.

- **`sns.histplot(df[col], kde=True, ax=axes[i])`**:
  - Строит гистограмму для текущей колонки `col` из DataFrame `df`.
  - `kde=True` добавляет линию плотности (Kernel Density Estimate) для визуализации распределения данных.
  - `ax=axes[i]` указывает, что график должен быть нарисован на соответствующем подграфике.

- **`axes[i].set_title(f'Distribution of {col}')`**:
  - Устанавливает заголовок для текущего подграфика, используя f-строку для вставки названия колонки.

---

```python
plt.tight_layout()
plt.show()
```

#### 5. Отображение графиков
- **`plt.tight_layout()`**:
  - Автоматически подстраивает параметры подграфиков, чтобы избежать наложения элементов и улучшить внешний вид.

- **`plt.show()`**:
  - Отображает все графики на экране.

---

```python
# Матрица корреляций
plt.figure(figsize=(12, 10))
correlation_matrix = df.corr()
sns.heatmap(correlation_matrix, annot=True, cmap='coolwarm', fmt='.2f')
plt.title('Correlation Matrix')
plt.show()
```

#### 6. Построение матрицы корреляций
- **`plt.figure(figsize=(12, 10))`**:
  - Создает новое окно графика с заданным размером.

- **`correlation_matrix = df.corr()`**:
  - Вычисляет матрицу корреляций для всех числовых колонок в DataFrame `df`. Корреляция показывает, как сильно связаны две переменные.

- **`sns.heatmap(correlation_matrix, annot=True, cmap='coolwarm', fmt='.2f')`**:
  - Строит тепловую карту (heatmap) для визуализации матрицы корреляций.
  - `annot=True` добавляет числовые значения корреляции на тепловую карту.
  - `cmap='coolwarm'` задает цветовую палитру для отображения значений.
  - `fmt='.2f'` задает формат отображения чисел с двумя знаками после запятой.

- **`plt.title('Correlation Matrix')`**:
  - Устанавливает заголовок для графика.

- **`plt.show()`**:
  - Отображает тепловую карту на экране.

---

```python
# Диаграмма рассеяния
sns.pairplot(df[numeric_cols[:5]])
plt.show()
```

#### 7. Построение диаграммы рассеяния
- **`sns.pairplot(df[numeric_cols[:5]])`**:
  - Создает матрицу диаграмм рассеяния (scatter plot) для первых 5 числовых колонок.
  - Позволяет визуализировать отношения между всеми парами выбранных колонок.

- **`plt.show()`**:
  - Отображает диаграмму рассеяния на экране.

---

### Заключение

Этот код создает визуализации для анализа распределения числовых признаков, корреляций между ними и их взаимосвязей. Использование библиотек `matplotlib` и `seaborn` позволяет эффективно и эстетически привлекательно представлять данные, что является важной частью анализа данных и подготовки отчетов.